<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NFC-e Retirada - Hayama Sushi</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container print">
    <h2>HAYAMA SUSHI</h2>
    <p style="text-align:center">RETIRADA NO BALCÃO</p>

    <input id="item" placeholder="Item">
    <input id="qtd" type="number" placeholder="Quantidade">
    <input id="valor" type="number" placeholder="Valor unitário">

    <button onclick="adicionar()">Adicionar Item</button>

    <table id="lista">
        <tr>
            <th>Item</th>
            <th>Qtd</th>
            <th>R$</th>
        </tr>
    </table>

    <p class="total" id="total">TOTAL: R$ 0,00</p>
    <p class="data" id="data"></p>

    <button onclick="imprimir()">IMPRIMIR NFC-e</button>
</div>

<script>
let total = 0;

function adicionar() {
    const item = document.getElementById("item").value.trim();
    const qtd = Number(document.getElementById("qtd").value);
    const valor = Number(document.getElementById("valor").value);

    if (!item || !qtd || !valor) {
        alert("Preencha todos os campos corretamente!");
        return;
    }

    const subtotal = qtd * valor;
    total += subtotal;

    const tabela = document.getElementById("lista");
    const linha = tabela.insertRow();
    linha.insertCell(0).innerText = item;
    linha.insertCell(1).innerText = qtd;
    linha.insertCell(2).innerText = subtotal.toFixed(2);

    document.getElementById("total").innerText = "TOTAL: R$ " + total.toFixed(2);

    // Limpar campos
    document.getElementById("item").value = "";
    document.getElementById("qtd").value = "";
    document.getElementById("valor").value = "";
}

function imprimir() {
    const dataElem = document.getElementById("data");
    const now = new Date();
    dataElem.innerText = "Data: " + now.toLocaleDateString() + " " + now.toLocaleTimeString();

    window.print();
}
</script>

</body>
</html>
